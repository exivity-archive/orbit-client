(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1054:function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),r=n.n(t),a=n(106),o=n(140),i=n(744),l=n.n(i);Object(a.storiesOf)("Docs",e).addDecorator(function(e){return r.a.createElement("div",{style:{maxWidth:"50rem"}},e())}).add("Introduction",function(){return r.a.createElement(o.Markdown,null,l.a)}).add("Installation",function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Installation"),r.a.createElement("p",null,"With ",r.a.createElement(o.Code,null,"yarn"),":"),r.a.createElement(o.CodeBlock,null,"yarn add @exivity/proton"),r.a.createElement("p",null,"With ",r.a.createElement(o.Code,null,"npm"),":"),r.a.createElement(o.CodeBlock,null,"npm i @exivity/proton"))}).add("Usage",function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Usage"))}).add("Development",function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Development"))})}.call(this,n(227)(e))},206:function(e,t,n){"use strict";var r=n(0),a=Object(r.createContext)({});t.a=a},207:function(e,t,n){"use strict";var r=n(745),a=n(309),o=new r.a({schema:a.a}),i={type:"sun",id:"sun",attributes:{name:"Sun",classification:"Fusion giant"}},l={type:"planet",id:"jupiter",attributes:{name:"Jupiter",classification:"gas giant",atmosphere:!0}},u={type:"planet",id:"earth",attributes:{name:"Earth",classification:"terrestrial",atmosphere:!0},relationships:{sun:{data:{type:"sun",id:"sun"}}}},d={type:"planet",id:"venus",attributes:{name:"Venus",classification:"terrestrial",atmosphere:!0}},c={type:"moon",id:"io",attributes:{name:"Io"},relationships:{planet:{data:{type:"planet",id:"jupiter"}}}},s={type:"moon",id:"europa",attributes:{name:"Europa"},relationships:{planet:{data:{type:"planet",id:"jupiter"}}}},p={type:"moon",id:"theMoon",attributes:{name:"The Moon"},relationships:{planet:{data:{type:"planet",id:"earth"}}}};o.update(function(e){return[e.addRecord(i),e.addRecord(l),e.addRecord(u),e.addRecord(d),e.addRecord(c),e.addRecord(s),e.addRecord(p)]}),t.a=o},309:function(e,t,n){"use strict";var r=new(n(17).d)({models:{planet:{attributes:{name:{type:"string"},classification:{type:"string"}},relationships:{sun:{type:"hasOne",model:"sun",inverse:"planets"},moons:{type:"hasMany",model:"moon",inverse:"planet"}}},moon:{attributes:{name:{type:"string"}},relationships:{planet:{type:"hasOne",model:"planet",inverse:"moons"}}},sun:{attributes:{name:{type:"string"},classification:{type:"string"}},relationships:{planets:{type:"hasMany",model:"planets",inverse:"sun"}}}}});t.a=r},310:function(e,t,n){"use strict";var r=n(33),a=n.n(r),o=n(9),i=n.n(o),l=n(7),u=n.n(l),d=n(8),c=n.n(d),s=n(14),p=n.n(s),f=n(15),m=n.n(f),y=n(16),v=n.n(y),h=n(6),b=n.n(h),R=n(5),E=n.n(R),S=n(0),g=n.n(S),C=n(1),O=n.n(C),A=n(205),T=n(185),k=n.n(T),_=n(187),j=n.n(_),q=n(81),I=n.n(q),w=n(312),x=n.n(w),D=function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=p()(this,(e=m()(t)).call.apply(e,[this].concat(a))),E()(b()(b()(n)),"build",function(){return n.props.buildRecord.apply(void 0,arguments)}),E()(b()(b()(n)),"add",x()(j.a.mark(function e(){var t,r,a,o,i,l,u,d,c,s,p=arguments;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,r=t.beforeAdd,a=t.addRecord,o=t.onAdd,i=t.onError,l=p.length,u=Array(l),d=0;d<l;d++)u[d]=p[d];if(!r){e.next=10;break}return e.next=5,r.apply(void 0,u);case 5:c=e.sent,s=!0===c?u:c,c&&a.apply(void 0,I()(s)).then(o).catch(i),e.next=11;break;case 10:a.apply(void 0,u).then(o).catch(i);case 11:case"end":return e.stop()}},e,this)}))),E()(b()(b()(n)),"update",x()(j.a.mark(function e(){var t,r,a,o,i,l,u,d,c,s,p=arguments;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,r=t.beforeUpdate,a=t.updateRecord,o=t.onUpdate,i=t.onError,l=p.length,u=Array(l),d=0;d<l;d++)u[d]=p[d];if(!r){e.next=10;break}return e.next=5,r.apply(void 0,u);case 5:c=e.sent,s=!0===c?u:c,c&&a.apply(void 0,I()(s)).then(o).catch(i),e.next=11;break;case 10:a.apply(void 0,u).then(o).catch(i);case 11:case"end":return e.stop()}},e,this)}))),E()(b()(b()(n)),"remove",x()(j.a.mark(function e(){var t,r,a,o,i,l,u,d,c,s,p=arguments;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=n.props,r=t.beforeRemove,a=t.removeRecord,o=t.onRemove,i=t.onError,l=p.length,u=Array(l),d=0;d<l;d++)u[d]=p[d];if(!r){e.next=10;break}return e.next=5,r.apply(void 0,u);case 5:c=e.sent,s=!0===c?u:c,c&&a.apply(void 0,I()(s)).then(o).catch(i),e.next=11;break;case 10:a.apply(void 0,u).then(o).catch(i);case 11:case"end":return e.stop()}},e,this)}))),n}return v()(t,e),c()(t,[{key:"render",value:function(){var e={build:this.build,add:this.add,update:this.update,remove:this.remove};return this.props.children(e)}}]),t}(S.PureComponent);D.propTypes={children:O.a.func.isRequired,buildRecord:O.a.func,addRecord:O.a.func,updateRecord:O.a.func,removeRecord:O.a.func,onAdd:O.a.func,onUpdate:O.a.func,onRemove:O.a.func,beforeAdd:O.a.func,beforeUpdate:O.a.func,beforeRemove:O.a.func,onError:O.a.func},D.defaultProps={buildRecord:function(){},addRecord:function(){},updateRecord:function(){},removeRecord:function(){},onAdd:function(){},onUpdate:function(){},onRemove:function(){},onError:function(){}};var P=D;D.__docgenInfo={description:"",methods:[{name:"build",docblock:null,modifiers:[],params:[{name:"...args",type:null}],returns:null},{name:"add",docblock:null,modifiers:["async"],params:[{name:"...args",type:null}],returns:null},{name:"update",docblock:null,modifiers:["async"],params:[{name:"...args",type:null}],returns:null},{name:"remove",docblock:null,modifiers:["async"],params:[{name:"...args",type:null}],returns:null}],displayName:"Crud",props:{buildRecord:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Function to build objectType."},addRecord:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Function to add record."},updateRecord:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Function to update record."},removeRecord:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Function to remove record."},onAdd:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback called when add() resolves. Provides added record."},onUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback called when update() resolves. Provides updated record."},onRemove:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback called when remove() resolves. Provides removed record."},onError:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback called when one of crud function catches"},children:{type:{name:"func"},required:!0,description:"Callback with build, add, update, remove promises."},beforeAdd:{type:{name:"func"},required:!1,description:"Callback called before add(). Takes a promise or function.\r\n   Return truthy value to proceed with add()"},beforeUpdate:{type:{name:"func"},required:!1,description:"Callback called before update(). Takes a promise or function.\r\n   Return truthy value to proceed with update()"},beforeRemove:{type:{name:"func"},required:!1,description:"Callback called before remove(). Takes a promise or function.\r\n   Return truthy value to proceed with remove()"}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\Crud.js"]={name:"Crud",docgenInfo:D.__docgenInfo,path:"src\\Crud.js"});var U=n(132),B=n.n(U),L=n(206);n(856);var M=function(e){var t=function(t){function n(){return u()(this,n),p()(this,m()(n).apply(this,arguments))}return v()(n,t),c()(n,[{key:"render",value:function(){var t=this;return g.a.createElement(L.a.Consumer,null,function(n){n.performTransforms;var r=B()(n,["performTransforms"]);return g.a.createElement(e,a()({},r,t.props))})}}]),n}(S.PureComponent);return t.displayName=function(e){return e.displayName||e.name||"OrbitModel"}(e),t},N=["id","type","related","relatedTo","children","queryStore","updateStore","buildRecord","addRecord","updateRecord","removeRecord","getRelationships"],K=function(e){function t(e){var n,r;if(u()(this,t),n=p()(this,m()(t).call(this,e)),E()(b()(b()(n)),"queryStoreById",function(e){n.props.queryStore(function(t){return t.findRecord({type:n.props.type,id:e})}).then(function(){return n.setState({loading:!1})}).catch(function(e){n.setState({loading:!1,error:e})})}),E()(b()(b()(n)),"queryStoreByRelation",function(e){var t=e.type,r=e.id;n.props.queryStore(function(e){return e.findRelatedRecord({type:t,id:r},n.props.type)}).then(function(){return n.setState({searchedAllSources:!0,loading:!1})}).catch(function(e){n.setState({loading:!1,error:e})})}),E()(b()(b()(n)),"setProperty",function(e,t,r){return n.setState(function(a){var o=a[n.props.type];return E()({},n.props.type,i()({},o,E()({},e,i()({},o[e],E()({},t,"attributes"===e?r:{data:r})))))})}),E()(b()(b()(n)),"setAttribute",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 2===t.length?function(){var e;return(e=n).setProperty.apply(e,["attributes"].concat(t))}:function(){var e;return(e=n).setProperty.apply(e,["attributes"].concat(t))}}),E()(b()(b()(n)),"setRelationship",function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 2===t.length?function(){var e;return(e=n).setProperty.apply(e,["relationships"].concat(t))}:function(){var e;return(e=n).setProperty.apply(e,["relationships"].concat(t))}}),E()(b()(b()(n)),"onRemove",function(){var e,t=n.props,r=t.type,a=t.onRemove;n.setState((e={},E()(e,r,null),E()(e,"error",{message:"".concat(r," has been removed")}),e)),a&&a.apply(void 0,arguments)}),!e.related){var a,o=!!e.id&&!e[e.type];a={idReference:e.id,recordReference:e[e.type]},E()(a,e.type,e[e.type]||e.buildRecord(e.type)),E()(a,"loading",o),E()(a,"error",!1),r=a}if(e.related){var l,d=e.relatedTo&&!e[e.type],c=d?null:e[e.type];l={idReference:null,recordReference:c},E()(l,e.type,c),E()(l,"searchedAllSources",!1),E()(l,"loading",!!d),E()(l,"error",!1),r=l}return n.state=r,n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.related,r=e.relatedTo;this.state.loading&&(n&&r?this.queryStoreByRelation(r):t&&this.queryStoreById(t))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.id,n=e.related,r=e.relatedTo;this.state.loading&&(n&&r?this.queryStoreByRelation(r):t&&this.queryStoreById(t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.type,r=t.children,o=t.related,l=t.relatedTo,u=this.state[n],d=k()(this.props,N.concat([n])),c={loading:!!this.props.loading||this.state.loading,error:this.props.error||this.state.error};return g.a.createElement(P,a()({},this.props,{onRemove:this.onRemove}),function(t){var a=t.add,s=t.update,p=t.remove,f=u?i()({},u,{setAttribute:e.setAttribute,setRelationship:e.setRelationship,save:u&&!u.id?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.apply(void 0,[u].concat(t))}:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.apply(void 0,[u].concat(t))},remove:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.apply(void 0,[u].concat(t))}}):null;if(c.loading||c.error){var m=i()(E()({},n,null),d,c);return"function"==typeof r?r(m):g.a.cloneElement(e.props.children,i()({},m,{relatedTo:o?l:u}))}return"function"==typeof r?r(i()(E()({},n,f),d,c)):g.a.cloneElement(e.props.children,i()(E()({},n,f),d,{relatedTo:o?l:u},c))})}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.related){var n,r,a,o=!!e.id&&e.id!==t.idReference,i=!e.id&&e.id!==t.idReference,l=!!e[e.type]&&e[e.type]!==t.recordReference,u=e.id&&!e[e.type];if(i){var d,c=e.buildRecord(e.type);return d={idReference:e.id,recordReference:c},E()(d,e.type,c),E()(d,"loading",!1),E()(d,"error",!1),d}return o?u?(r={idReference:e.id,recordReference:null},E()(r,e.type,null),E()(r,"loading",!0),E()(r,"error",!1),r):(n={idReference:e.id,recordReference:e[e.type]},E()(n,e.type,e[e.type]),E()(n,"loading",!1),E()(n,"error",!1),n):l?(a={idReference:e.id,recordReference:e[e.type]},E()(a,e.type,e[e.type]),E()(a,"loading",!1),E()(a,"error",!1),a):null}if(e.related){var s,p,f,m=!e.relatedTo,y=e.relatedTo&&!e[e.type]&&!t.searchedAllSources,v=!!e[e.type]&&e[e.type]!==t.recordReference,h=!e[e.type]&&t.searchedAllSources;return m?(s={recordReference:null},E()(s,e.type,null),E()(s,"searchedAllSources",!1),E()(s,"loading",!1),E()(s,"error",!1),s):y?(p={recordReference:null},E()(p,e.type,null),E()(p,"loading",!0),E()(p,"error",!1),p):v?(f={recordReference:e[e.type]},E()(f,e.type,e[e.type]),E()(f,"searchedAllSources",!1),E()(f,"loading",!1),E()(f,"error",!1),f):h&&e.required?{loading:!1,error:{message:"Related ".concat(e.type," has not been found while being required")}}:null}}}]),t}(S.PureComponent),Y=M(K);t.a=Object(A.withData)(function(e){var t=e.id,n=e.type,r=e.related,a=e.relatedTo;return r&&a?E()({},n,function(e){return e.findRelatedRecord({type:a.type,id:a.id},n)}):t?E()({},n,function(e){return e.findRecord({type:n,id:t})}):{}},function(e,t){return(!t.related||!t.relatedTo||t.relatedTo.relationships&&t.relatedTo.relationships[t.type])&&(t.id||t.related)?i()({},t,e):i()({},e,t,E()({},t.type,null))})(Y);K.propTypes={type:O.a.string,id:O.a.string,buildRecord:O.a.func,addRecord:O.a.func,updateRecord:O.a.func,removeRecord:O.a.func,beforeAdd:O.a.func,onAdd:O.a.func,beforeUpdate:O.a.func,onUpdate:O.a.func,beforeRemove:O.a.func,onRemove:O.a.func,related:O.a.bool,required:O.a.bool}},311:function(e,t,n){"use strict";var r=n(9),a=n.n(r),o=n(7),i=n.n(o),l=n(8),u=n.n(l),d=n(14),c=n.n(d),s=n(15),p=n.n(s),f=n(16),m=n.n(f),y=n(6),v=n.n(y),h=n(5),b=n.n(h),R=n(0),E=n.n(R),S=n(1),g=n.n(S),C=n(205),O=n(208),A=n.n(O),T=n(185),k=n.n(T),_=n(206),j=n(130),q=n.n(j),I=function(e,t){var n=Object.keys(t).reduce(function(e,n){return t[n]&&(e[n]=t[n]),e},{});return Object.entries(n).reduce(function(e,t){var n=q()(t,2),r=n[0],a=n[1];return function(){return e.apply(void 0,arguments)[r](a)}},e)},w=["id","type","related","relatedTo","children","queryStore","updateStore","plural"],x=function(e){function t(e){var n;return i()(this,t),n=c()(this,p()(t).call(this,e)),b()(v()(v()(n)),"startQuery",function(e){n.setState({loading:!0,error:!1},e)}),b()(v()(v()(n)),"query",function(){n.props.queryStore(function(e){return e.findRecords(n.props.type)}).then(function(){return n.setState({loading:!1})}).catch(function(e){n.setState({loading:!1,error:e})})}),b()(v()(v()(n)),"queryRelated",function(){var e=n.props,t=e.relatedTo,r=e.type,a=e.plural||A()(r);n.props.queryStore(function(e){return e.findRelatedRecords({type:t.type,id:t.id},a)}).then(function(){return n.setState({loading:!1})}).catch(function(e){n.setState({loading:!1,error:e})})}),b()(v()(v()(n)),"findOne",function(e){return n.props[n.props.type].find(function(t){return t.id===e})}),b()(v()(v()(n)),"find",function(e){var t=n.props[n.props.type];return e.map(function(e){return t.find(function(t){return t.id===e})})}),b()(v()(v()(n)),"findByAttribute",function(e){var t=e.attribute,r=e.value;return n.props[n.props.type].filter(function(e){return e.attributes[t]===r})}),b()(v()(v()(n)),"buildSaveTransforms",function(e){return function(t){return e.map(function(e){return e.id?t.replaceRecord(e):t.addRecord(e)})}}),b()(v()(v()(n)),"buildRemoveTransforms",function(e){return function(t){return e.map(function(e){return t.removeRecord(e)})}}),n.state={loading:!1,error:!1},n}return m()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this.props.plural||A()(this.props.type),t=this.props,n=t[e],r=t.related,a=t.relatedTo;return n.length?null:(r&&a&&this.startQuery(this.queryRelated),void(!r&&this.startQuery(this.query)))}},{key:"componentDidUpdate",value:function(e){var t=this.props.plural||A()(this.props.type),n=this.props,r=n[t],a=n.related,o=n.relatedTo,i=o&&o.id===e.relatedTo.id;!r.length&&a&&i&&this.startQuery(this.queryRelated)}},{key:"render",value:function(){var e=this,t=this.props.plural||A()(this.props.type),n=this.props,r=n[t],o=n.type,i=n.relatedTo,l=n.children,u=k()(this.props,w.concat([o])),d={loading:!!this.props.loading||this.state.loading,error:this.props.error||this.state.error},c={findOne:this.findOne,find:this.find,findByAttribute:this.findByAttribute,all:function(){return r}};return E.a.createElement(_.a.Consumer,null,function(n){var r,o=n.performTransforms;if(d.loading||d.error){var s,p=a()({},u,(s={},b()(s,t,null),b()(s,"save",function(t){return o(e.buildSaveTransforms(t))}),b()(s,"remove",function(t){return o(e.buildRemoveTransforms(t))}),s),d);return"function"==typeof l?l(p):E.a.cloneElement(l,p)}var f=a()({},u,(r={},b()(r,t,c),b()(r,"save",function(t){return o(e.buildSaveTransforms(t))}),b()(r,"remove",function(t){return o(e.buildRemoveTransforms(t))}),r),d);return"function"==typeof e.props.children?l(f):E.a.cloneElement(l,a()({},f,{relatedTo:i}))})}}]),t}(R.PureComponent);t.a=Object(C.withData)(function(e){var t=e.type,n=e.plural,r=e.related,a=e.relatedTo,o=e.sort,i=e.filter,l=e.page,u=n||A()(t);return r&&a?b()({},u,function(e){return e.findRelatedRecords({type:a.type,id:a.id},u)}):b()({},u,I(function(e){return e.findRecords(t)},{sort:o,filter:i,page:l}))})(x);x.propTypes={type:g.a.string,related:g.a.bool,queryStore:g.a.func,sort:g.a.oneOfType([g.a.string,g.a.object]),filter:g.a.oneOfType([g.a.string,g.a.object]),page:g.a.oneOfType([g.a.number,g.a.object])},x.__docgenInfo={description:"",methods:[{name:"startQuery",docblock:null,modifiers:[],params:[{name:"query",type:null}],returns:null},{name:"query",docblock:null,modifiers:[],params:[],returns:null},{name:"queryRelated",docblock:null,modifiers:[],params:[],returns:null},{name:"findOne",docblock:null,modifiers:[],params:[{name:"id",type:null}],returns:null},{name:"find",docblock:null,modifiers:[],params:[{name:"ids",type:null}],returns:null},{name:"findByAttribute",docblock:null,modifiers:[],params:[{name:"{ attribute, value }",type:null}],returns:null},{name:"buildSaveTransforms",docblock:null,modifiers:[],params:[{name:"records",type:null}],returns:null},{name:"buildRemoveTransforms",docblock:null,modifiers:[],params:[{name:"records",type:null}],returns:null}],displayName:"Collection",props:{type:{type:{name:"string"},required:!1,description:""},related:{type:{name:"bool"},required:!1,description:""},queryStore:{type:{name:"func"},required:!1,description:""},sort:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},filter:{type:{name:"union",value:[{name:"string"},{name:"object"}]},required:!1,description:""},page:{type:{name:"union",value:[{name:"number"},{name:"object"}]},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\Collection.js"]={name:"Collection",docgenInfo:x.__docgenInfo,path:"src\\Collection.js"})},651:function(e,t,n){"use strict";var r=n(33),a=n.n(r),o=n(0),i=n.n(o),l=n(310),u=function(e){return i.a.createElement(l.a,a()({},e,{type:"planet"}))};t.a=u,u.__docgenInfo={description:"",methods:[],displayName:"Planet"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["orbitStories\\Planet.js"]={name:"Planet",docgenInfo:u.__docgenInfo,path:"orbitStories\\Planet.js"})},652:function(e,t,n){"use strict";var r=n(33),a=n.n(r),o=n(0),i=n.n(o),l=n(311),u=function(e){return i.a.createElement(l.a,a()({type:"planet"},e))};t.a=u,u.__docgenInfo={description:"",methods:[],displayName:"Planets"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["orbitStories\\Planets.js"]={name:"Planets",docgenInfo:u.__docgenInfo,path:"orbitStories\\Planets.js"})},742:function(e,t,n){"use strict";var r=n(33),a=n.n(r),o=n(0),i=n.n(o),l=n(311),u=function(e){return i.a.createElement(l.a,a()({type:"moon"},e))};t.a=u,u.__docgenInfo={description:"",methods:[],displayName:"Moons"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["orbitStories\\Moons.js"]={name:"Moons",docgenInfo:u.__docgenInfo,path:"orbitStories\\Moons.js"})},743:function(e,t,n){"use strict";var r=n(33),a=n.n(r),o=n(0),i=n.n(o),l=n(310),u=function(e){return i.a.createElement(l.a,a()({type:"sun"},e))};t.a=u,u.__docgenInfo={description:"",methods:[],displayName:"Sun"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["orbitStories\\Sun.js"]={name:"Sun",docgenInfo:u.__docgenInfo,path:"orbitStories\\Sun.js"})},744:function(e,t){e.exports='"# OrbitClient" \r\n'},746:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(7),i=n.n(o),l=n(8),u=n.n(l),d=n(14),c=n.n(d),s=n(15),p=n.n(s),f=n(16),m=n.n(f),y=n(6),v=n.n(y),h=n(5),b=n.n(h),R=n(1),E=n.n(R),S=function(e){function t(e){var n;return i()(this,t),n=c()(this,p()(t).call(this,e)),b()(v()(v()(n)),"storeState",function(e){n.setState(e)}),n.state=e.store,n}return m()(t,e),u()(t,[{key:"render",value:function(){return this.props.children(this.state,this.storeState)}}]),t}(r.PureComponent),g=S;S.propTypes={children:E.a.func},S.__docgenInfo={description:"",methods:[{name:"storeState",docblock:null,modifiers:[],params:[{name:"value",type:null}],returns:null}],displayName:"StateContainer",props:{children:{type:{name:"func"},required:!1,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES[".storybook\\StateContainer.js"]={name:"StateContainer",docgenInfo:S.__docgenInfo,path:".storybook\\StateContainer.js"}),n.d(t,"a",function(){return C});var C=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){return a.a.createElement(g,{store:e},function(e,r){return n.state=e,n.storeState=r,t()})}}},747:function(e,t,n){n(313),n(748),e.exports=n(749)},749:function(e,t,n){"use strict";n.r(t),function(e){var t=n(7),r=n.n(t),a=n(8),o=n.n(a),i=n(14),l=n.n(i),u=n(15),d=n.n(u),c=n(16),s=n.n(c),p=n(0),f=n.n(p),m=n(106),y=n(739),v=n(740),h=n(140),b=n(205),R=n(207),E=n(206),S=n(309),g={buildRecord:function(e){return function(e){return{type:e,id:void 0,attributes:{name:"",classification:"",atmosphere:!0}}}(e)},addRecord:function(e){return R.a.update(function(t){return t.addRecord(e)})},updateRecord:function(e){return R.a.update(function(t){return t.replaceRecord(e)})},removeRecord:function(e){return R.a.update(function(t){return t.removeRecord(e)})},performTransforms:function(e){return R.a.update(e)},getRelationships:function(e){return S.a.models[e].relationships}},C=function(e){function t(e){var n;return r()(this,t),(n=l()(this,d()(t).call(this,e))).state={render:!1},n}return s()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){return e.setState({render:!0})},300)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){return this.state.render?f.a.createElement(E.a.Provider,{value:g},f.a.createElement(b.DataProvider,{dataStore:R.a},this.props.story())):null}}]),t}(p.Component);Object(m.addDecorator)(y.withInfo),Object(m.addDecorator)(Object(v.withOptions)({name:"@exivity/orbit-client",url:"https://github.com/exivity/orbit-client",showAddonPanel:!0,addonPanelInRight:!0,hierarchySeparator:/\/|\./,hierarchyRootSeparator:/\|/})),Object(m.addDecorator)(function(e){return f.a.createElement("div",{style:{padding:"20px"}},f.a.createElement("style",null,"h1:first-child { margin-top: 0; }"),f.a.createElement(h.WithStyle,null,e()))}),Object(m.addDecorator)(function(e){return f.a.createElement(C,{story:e})});var O=n(852);Object(m.configure)(function(){O.keys().forEach(function(e){return O(e)})},e)}.call(this,n(227)(e))},764:function(e,t,n){var r={"./nestedObjectAssign":657,"./nestedObjectAssign.js":657};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=764},852:function(e,t,n){var r={"./OrbitClient.stories.js":853,"./docs.stories.js":1054};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=852},853:function(e,t,n){"use strict";n.r(t),function(e){var t=n(7),r=n.n(t),a=n(8),o=n.n(a),i=n(14),l=n.n(i),u=n(15),d=n.n(u),c=n(16),s=n.n(c),p=n(0),f=n.n(p),m=n(106),y=n(746),v=n(651),h=n(652),b=n(742),R=n(743),E=function(e,t){return"function"==typeof t?"function":t},S=function(e){var t=e.children;return f.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:1e3}},t)},g=function(e){var t=e.state,n=e.storeState;return f.a.createElement("div",null,f.a.createElement("label",null,"Id prop:"),f.a.createElement("input",{style:{marginLeft:10},value:t.planetId||"",onChange:function(e){return n({planetId:e.target.value,beforeAddCalled:!1,onAddCalled:!1,beforeUpdateCalled:!1,onUpdateCalled:!1,beforeRemoveCalled:!1,onRemoveCalled:!1})}}))},C=function(e){var t=e.planet,n=e.state;return f.a.createElement("div",null,f.a.createElement("h3",null,"Planet"),f.a.createElement("form",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",height:500}},f.a.createElement("label",null,"Name:"),f.a.createElement("input",{value:t.attributes.name,onChange:function(e){return t.setAttribute("name")(e.target.value)}}),f.a.createElement("label",null,"Classification:"),f.a.createElement("input",{value:t.attributes.classification,onChange:function(e){return t.setAttribute("classification")(e.target.value)}}),f.a.createElement("label",null,"Atmosphere:"),f.a.createElement("input",{type:"checkbox",value:t.attributes.atmosphere,onChange:function(e){return t.setAttribute("atmosphere")(e.target.checked)}}),f.a.createElement("button",{onClick:function(e){e.preventDefault(),t.save()}},"Save"),f.a.createElement("button",{onClick:function(e){e.preventDefault(),t.remove()}},"Delete"),f.a.createElement("h3",null,"Callbacks"),f.a.createElement("div",null,"beforeAdd called: ".concat(n.beforeAddCalled)),f.a.createElement("div",null,"onAdd called: ".concat(n.onAddCalled)),f.a.createElement("div",null,"beforeUpdate called: ".concat(n.beforeUpdateCalled)),f.a.createElement("div",null,"onUpdate called: ".concat(n.onUpdateCalled)),f.a.createElement("div",null,"beforeRemove called: ".concat(n.beforeRemoveCalled)),f.a.createElement("div",null,"onRemove called: ".concat(n.onRemoveCalled))))},O=function(e){var t=e.planet;return f.a.createElement("div",null,f.a.createElement("h3",null,"Active Record"),f.a.createElement("pre",null,JSON.stringify(t,E,2)))},A=function(e){function t(){return r()(this,t),l()(this,d()(t).apply(this,arguments))}return s()(t,e),o()(t,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement("h3",null,"All planet id's"),f.a.createElement(h.a,null,function(e){var t=e.planets;return f.a.createElement("ul",null,t.all().map(function(e){return f.a.createElement("li",{key:e.id},e.id)}))}))}}]),t}(p.PureComponent),T=function(e){function t(){return r()(this,t),l()(this,d()(t).apply(this,arguments))}return s()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.moons,n=e.sun;return f.a.createElement("div",null,f.a.createElement("h3",null,"Related moons"),f.a.createElement("ul",null,t.all().map(function(e){return f.a.createElement("li",{key:e.id},e.id)})),f.a.createElement("h3",null,"Related sun"),f.a.createElement("ul",null,f.a.createElement("li",{key:n&&n.id},n&&n.id)))}}]),t}(p.PureComponent),k=function(){return new Promise(function(e){setTimeout(function(){return e(!0)},3e3)})};Object(m.storiesOf)("components|orbit-client",e).addDecorator(function(e){return f.a.createElement("div",{style:{width:400,border:1}},e())}).addDecorator(Object(y.a)({planetId:"earth",beforeAddCalled:!1,onAddCalled:!1,beforeUpdateCalled:!1,onUpdateCalled:!1,beforeRemoveCalled:!1,onRemoveCalled:!1,sortOrder:"ascending"})).add("Single entity",function(e){var t=e.state,n=e.storeState;return f.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},f.a.createElement(g,{state:t,storeState:n}),f.a.createElement(v.a,{id:t.planetId,beforeAdd:function(){return n({beforeAddCalled:!0}),k()},onAdd:function(e){return n({planetId:e.id,onAddCalled:!0})},beforeUpdate:function(){return n({beforeUpdateCalled:!0}),k()},onUpdate:function(e){return n({planetId:e.id,onUpdateCalled:!0})},beforeRemove:function(){return n({beforeRemoveCalled:!0}),k()},onRemove:function(e){n({planetId:e.id,onRemoveCalled:!0}),setTimeout(function(){return n({planetId:void 0})},2e3)}},function(e){var n=e.planet,r=e.loading,a=e.error;return a?a.message:r?"Loading":f.a.createElement(S,null,f.a.createElement(C,{planet:n,state:t}),f.a.createElement(O,{planet:n}),f.a.createElement(A,null))}))}).add("Single entity with relations",function(e){var t=e.state,n=e.storeState;return f.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},f.a.createElement(g,{state:t,storeState:n}),f.a.createElement(v.a,{id:t.planetId},f.a.createElement(b.a,{related:!0},f.a.createElement(R.a,{related:!0},function(e){var n=e.planet,r=e.moons,a=e.sun,o=e.loading,i=e.error;return i?i.message:o?"Loading":f.a.createElement(S,null,f.a.createElement(C,{planet:n,state:t}),f.a.createElement(O,{planet:n}),f.a.createElement(A,null),f.a.createElement(T,{moons:r,sun:a}))}))))}).add("Multiple entities",function(e){var t=e.state,n=e.storeState;return f.a.createElement("div",null,f.a.createElement("h3",null,"All planet id's"),f.a.createElement(h.a,{sort:{attribute:"name",order:t.sortOrder}},function(e){var r=e.planets,a=e.save,o=e.remove;return f.a.createElement("div",null,f.a.createElement("ul",null,r.all().map(function(e){return f.a.createElement("li",{key:e.id},e.id)})),f.a.createElement("button",{onClick:function(){return a([{type:"planet",id:"mars",attributes:{name:"Mars"}},{type:"planet",id:"exivity to the moon",attributes:{name:"Rocket"}},{type:"planet",id:"neptunus",attributes:{name:"Neptunusr"}}])}},"Create records"),f.a.createElement("button",{onClick:function(){return o(r.all())}},"Delete all records"),f.a.createElement("button",{onClick:function(){n({sortOrder:"ascending"===t.sortOrder?"descending":"ascending"})}},t.sortOrder))}))})}.call(this,n(227)(e))}},[[747,3,2]]]);
//# sourceMappingURL=iframe.027b98c8d11a4416d9ed.bundle.js.map